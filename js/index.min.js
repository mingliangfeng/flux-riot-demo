!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){t("./routers/shop_routes.coffee").start()},{"./routers/shop_routes.coffee":20}],2:[function(t,e,n){!function(){var n=t("riot/riot"),i={version:"0.2.0"};i.BaseStore=function(){function t(){n.observable(this)}var e="STORE_CHANGE_EVENT";return t.prototype={addChangeListener:function(t){this.on(e,t)},removeChangeListener:function(t){this.off(e,t)},emitChange:function(){this.trigger(e)}},t}(),i.storeMixin=function(t,e,n){t.store=e,t.on("mount",function(){return e.addChangeListener(n)}),t.on("unmount",function(){return e.removeChangeListener(n)})},i.BaseRouter=function(){function t(t){for(var e=t.split("/"),n=[],i=0;i<e.length;i++){var r=e[i];r&&r.length>0&&n.push(":"===r[0]?"((?:(?!\\/).)+?)":r)}return RegExp("^"+n.join("\\/")+"\\/?$","i")}function e(t){if(0!==o.length){if(""===t)return o[0][1].apply(null,[]);for(var e=1;e<o.length;e++){var n=o[e],i=t.match(n[0]);if(null!=i)return n[1].apply(null,i.slice(1))}}}function i(){if(arguments.length>0){o.push(["",arguments[0]]);for(var e=1;e<arguments.length;e+=2)regex=t(arguments[e]),o.push([regex,arguments[e+1]])}}function r(t){return n.route.exec(t||e)}var o=[];return n.route.parser(function(t){return[t]}),n.route(e),{routes:i,start:r}}(),i.Constants={ActionSources:{SERVER_ACTION:"SERVER_ACTION",VIEW_ACTION:"VIEW_ACTION"}};var r=t("flux").Dispatcher,o=t("object-assign");i.Dispatcher=o(new r,{handleServerAction:function(t){return this.handleAction(t,i.Constants.ActionSources.SERVER_ACTION)},handleViewAction:function(t){return this.handleAction(t,i.Constants.ActionSources.VIEW_ACTION)},handleAction:function(t,e){return this.dispatch({source:e,action:t})}}),e.exports=i}()},{flux:3,"object-assign":7,"riot/riot":8}],3:[function(t,e,n){e.exports.Dispatcher=t("./lib/Dispatcher")},{"./lib/Dispatcher":4}],4:[function(t,e,n){"use strict";function i(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var r=t("./invariant"),o=1,s="ID_";i.prototype.register=function(t){var e=s+o++;return this.$Dispatcher_callbacks[e]=t,e},i.prototype.unregister=function(t){r(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},i.prototype.waitFor=function(t){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?r(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(r(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},i.prototype.dispatch=function(t){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}finally{this.$Dispatcher_stopDispatching()}},i.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},i.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},i.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},i.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=i},{"./invariant":5}],5:[function(t,e,n){"use strict";var i=function(t,e,n,i,r,o,s,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],f=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[f++]}))}throw c.framesToPop=1,c}};e.exports=i},{}],6:[function(t,e,n){"use strict";var i=function(t){var e,n={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=i},{}],7:[function(t,e,n){"use strict";function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var n,r,o=i(t),s=1;s<arguments.length;s++){n=arguments[s],r=Object.keys(Object(n));for(var a=0;a<r.length;a++)o[r[a]]=n[r[a]]}return o}},{}],8:[function(t,e,n){!function(t){function i(t){var e={val:t},n=t.split(/\s+in\s+/);return n[1]&&(e.val=O(0)+n[1],n=n[0].slice(O(0).length).trim().split(/,\s*/),e.key=n[0],e.pos=n[1]),e}function r(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function o(t,e,n){function o(t,e,n){p.splice(t,0,e),d.splice(t,0,n)}h(t,"each");var s,a=t.outerHTML,u=t.previousSibling,f=t.parentNode,p=[],d=[];n=i(n),e.one("update",function(){f.removeChild(t)}).one("premount",function(){f.stub&&(f=e.root)}).on("update",function(){var t=S(n.val,e);if(t){if(!Array.isArray(t)){var i=JSON.stringify(t);if(i==s)return;s=i,l(d,function(t){t.unmount()}),p=[],d=[],t=Object.keys(t).map(function(e){return r(n,e,t[e])})}l(p,function(e){if(e instanceof Object){if(t.indexOf(e)>-1)return}else{var n=D(t,e),i=D(p,e);if(n.length>=i.length)return}var r=p.indexOf(e),o=d[r];return o?(o.unmount(),p.splice(r,1),d.splice(r,1),!1):void 0});var h=[].indexOf.call(f.childNodes,u)+1;l(t,function(i,u){var l=t.indexOf(i,u),g=p.indexOf(i,u);if(0>l&&(l=t.lastIndexOf(i,u)),0>g&&(g=p.lastIndexOf(i,u)),!(i instanceof Object)){var m=D(t,i),v=D(p,i);m.length>v.length&&(g=-1)}var b=f.childNodes;if(0>g){if(!s&&n.key)var _=r(n,i,l);var y=new c({tmpl:a},{before:b[h+l],parent:e,root:f,item:_||i});return y.mount(),o(l,i,y),!0}return n.pos&&d[g][n.pos]!=l&&(d[g].one("update",function(t){t[n.pos]=l}),d[g].update()),l!=g?(f.insertBefore(b[h+g],b[h+(l>g?l+1:l)]),o(l,p.splice(g,1)[0],d.splice(g,1)[0])):void 0}),p=t.slice()}})}function s(t,e,n){b(t,function(t){if(1==t.nodeType){t.parentNode&&t.parentNode.isLoop&&(t.isLoop=1),t.getAttribute("each")&&(t.isLoop=1);var i=x(t);if(i&&!t.isLoop){for(var r,o=new c(i,{root:t,parent:e},t.innerHTML),s=i.name,a=e;!x(a.root)&&a.parent;)a=a.parent;o.parent=a,r=a.tags[s],r?(Array.isArray(r)||(a.tags[s]=[r]),a.tags[s].push(o)):a.tags[s]=o,t.innerHTML="",n.push(o)}l(t.attributes,function(n){/^(name|id)$/.test(n.name)&&(e[n.value]=t)})}})}function a(t,e,n){function i(t,e,i){if(e.indexOf(O(0))>=0){var r={dom:t,expr:e};n.push(d(r,i))}}b(t,function(t){var n=t.nodeType;if(3==n&&"STYLE"!=t.parentNode.tagName&&i(t,t.nodeValue),1==n){var r=t.getAttribute("each");return r?(o(t,e,r),!1):(l(t.attributes,function(e){var n=e.name,r=n.split("__")[1];return i(t,e.value,{attr:r||n,bool:r}),r?(h(t,n),!1):void 0}),x(t)?!1:void 0)}})}function c(t,e,n){function i(){l(Object.keys(T),function(t){u[t]=S(T[t],h||c)})}function r(t){if(l(m,function(e){e[t?"mount":"unmount"]()}),h){var e=t?"on":"off";h[e]("update",c.update)[e]("unmount",c.unmount)}}var o,c=A.observable(this),u=C(e.opts)||{},f=v(t.tmpl),h=e.parent,g=[],m=[],b=e.root,y=e.item,D=t.fn,x=b.tagName.toLowerCase(),T={};D&&b._tag&&b._tag.unmount(!0),b._tag=this,this._id=~~((new Date).getTime()*Math.random()),d(this,{parent:h,root:b,opts:u,tags:{}},y),l(b.attributes,function(t){T[t.name]=t.value}),f.innerHTML&&!/select/.test(x)&&(f.innerHTML=_(f.innerHTML,n)),this.update=function(t,e){d(c,t,y),i(),c.trigger("update",y),p(g,c,y),c.trigger("updated")},this.mount=function(){if(i(),D&&D.call(c,u),r(!0),a(f,c,g),c.parent||c.update(),c.trigger("premount"),D)for(;f.firstChild;)b.appendChild(f.firstChild);else o=f.firstChild,b.insertBefore(o,e.before||null);b.stub&&(c.root=b=h.root),c.trigger("mount")},this.unmount=function(t){var e=D?b:o,n=e.parentNode;if(n){if(h)Array.isArray(h.tags[x])?l(h.tags[x],function(t,e){t._id==c._id&&h.tags[x].splice(e,1)}):delete h.tags[x];else for(;e.firstChild;)e.removeChild(e.firstChild);t||n.removeChild(e)}c.trigger("unmount"),r(),c.off("*"),b._tag=null},s(f,this,m)}function u(e,n,i,r,o){i[e]=function(e){e=e||t.event,e.which=e.which||e.charCode||e.keyCode,e.target=e.target||e.srcElement,e.currentTarget=i,e.item=o,n.call(r,e)===!0||/radio|check/.test(i.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1);var s=o?r.parent:r;s.update()}}function f(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function p(t,e,n){l(t,function(t,i){var r=t.dom,o=t.attr,s=S(t.expr,e),a=t.dom.parentNode;if(null==s&&(s=""),a&&"TEXTAREA"==a.tagName&&(s=s.replace(/riot-/g,"")),t.value!==s){if(t.value=s,!o)return r.nodeValue=s;if(h(r,o),"function"==typeof s)u(o,s,r,e,n);else if("if"==o){var c=t.stub;s?c&&f(c.parentNode,c,r):(c=t.stub=c||document.createTextNode(""),f(r.parentNode,r,c))}else if(/^(show|hide)$/.test(o))"hide"==o&&(s=!s),r.style.display=s?"":"none";else if("value"==o)r.value=s;else if("riot-"==o.slice(0,5))o=o.slice(5),s?r.setAttribute(o,s):h(r,o);else{if(t.bool){if(r[o]=s,!s)return;s=o}"object"!=typeof s&&r.setAttribute(o,s)}}})}function l(t,e){for(var n,i=0,r=(t||[]).length;r>i;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function h(t,e){t.removeAttribute(e)}function d(t,e,n){return e&&l(Object.keys(e),function(n){t[n]=e[n]}),n?d(t,n):t}function g(){if(t){var e=navigator.userAgent,n=e.indexOf("MSIE ");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):0}}function m(t,e){var n=document.createElement("option"),i=/value=[\"'](.+?)[\"']/,r=/selected=[\"'](.+?)[\"']/,o=e.match(i),s=e.match(r);n.innerHTML=e,o&&(n.value=o[1]),s&&n.setAttribute("riot-selected",s[1]),t.appendChild(n)}function v(t){var e=t.trim().slice(1,3).toLowerCase(),n=/td|th/.test(e)?"tr":"tr"==e?"tbody":"div",i=document.createElement(n);return i.stub=!0,"op"===e&&w&&10>w?m(i,t):i.innerHTML=t,i}function b(t,e){if(t)if(e(t)===!1)b(t.nextSibling,e);else for(t=t.firstChild;t;)b(t,e),t=t.nextSibling}function _(t,e){return t.replace(/<(yield)\/?>(<\/\1>)?/gim,e||"")}function y(t,e){return e=e||document,e.querySelectorAll(t)}function D(t,e){return t.filter(function(t){return t===e})}function C(t){function e(){}return e.prototype=t,new e}function x(t){return N[t.getAttribute("riot-tag")||t.tagName.toLowerCase()]}function T(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function k(t,e,n){var i=N[e],r=t.innerHTML;return t.innerHTML="",i&&t&&(i=new c(i,{root:t,opts:n},r)),i&&i.mount?(i.mount(),E.push(i),i.on("unmount",function(){E.splice(E.indexOf(i),1)})):void 0}var A={version:"v2.0.15",settings:{}},w=g();A.observable=function(t){t=t||{};var e={},n=0;return t.on=function(i,r){return"function"==typeof r&&(r._id="undefined"==typeof r._id?n++:r._id,i.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(r),r.typed=n>0})),t},t.off=function(n,i){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(i)for(var n,r=e[t],o=0;n=r&&r[o];++o)n._id==i._id&&(r.splice(o,1),o--);else e[t]=[]}),t},t.one=function(e,n){function i(){t.off(e,i),n.apply(t,arguments)}return t.on(e,i)},t.trigger=function(n){for(var i,r=[].slice.call(arguments,1),o=e[n]||[],s=0;i=o[s];++s)i.busy||(i.busy=1,i.apply(t,i.typed?[n].concat(r):r),o[s]!==i&&s--,i.busy=0);return e.all&&"all"!=n&&t.trigger.apply(t,["all",n].concat(r)),t},t},function(t,e,n){function i(){return a.href.split("#")[1]||""}function r(t){return t.split("/")}function o(t){t.type&&(t=i()),t!=s&&(c.trigger.apply(null,["H"].concat(r(t))),s=t)}if(n){var s,a=n.location,c=t.observable(),u=n,f=!1,p=t.route=function(t){t[0]?(a.hash=t,o(t)):c.on("H",t)};p.exec=function(t){t.apply(null,r(i()))},p.parser=function(t){r=t},p.stop=function(){f&&(u.removeEventListener?u.removeEventListener(e,o,!1):u.detachEvent("on"+e,o),c.off("*"),f=!1)},p.start=function(){f||(u.addEventListener?u.addEventListener(e,o,!1):u.attachEvent("on"+e,o),f=!0)},p.start()}}(A,"hashchange",t);var O=function(t,e,n){return function(i){return e=A.settings.brackets||t,n!=e&&(n=e.split(" ")),i&&i.test?e==t?i:RegExp(i.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),i.global?"g":""):n[i]}}("{ }"),S=function(){function e(t,e){return t=(t||O(0)+O(1)).replace(O(/\\{/g),"￰").replace(O(/\\}/g),"￱"),e=r(t,o(t,O(/{/),O(/}/))),new Function("d","return "+(e[0]||e[2]||e[3]?"["+e.map(function(t,e){return e%2?n(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':n(e[1])).replace(/\uFFF0/g,O(0)).replace(/\uFFF1/g,O(1))+";")}function n(t,e){return t=t.replace(/\n/g," ").replace(O(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+o(t,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(t){return t.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(t,e,n){return n.replace(/[^&|=!><]+/g,i)+'?"'+e+'":"",'})}).join("")+'].join(" ").trim()':i(t,e)}function i(e,n){return e=e.trim(),e?"(function(v){try{v="+(e.replace(a,function(e,n,i){return i?"(d."+i+"===undefined?"+("undefined"==typeof t?"global.":"window.")+i+":d."+i+")":e})||"x")+"}finally{return "+(n===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function r(t,e){var n=[];return e.map(function(e,i){i=t.indexOf(e),n.push(t.slice(0,i),e),t=t.slice(i+e.length)}),n.concat(t)}function o(t,e,n){var i,r=0,o=[],s=new RegExp("("+e.source+")|("+n.source+")","g");return t.replace(s,function(e,n,s,a){!r&&n&&(i=a),r+=n?1:-1,r||null==s||o.push(t.slice(i,a+s.length))}),o}var s={},a=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(t,n){return t&&(s[t]=s[t]||e(t))(n)}}(),E=[],N={};A.tag=function(t,e,n,i){return"function"==typeof n?i=n:n&&T(n),N[t]={name:t,tmpl:e,fn:i},t},A.mount=function(t,e,n){function i(t){var i=e||t.getAttribute("riot-tag")||t.tagName.toLowerCase(),r=k(t,i,n);r&&s.push(r)}var r,o=function(t){return t=Object.keys(N).join(", "),t.split(",").map(function(e){t+=', *[riot-tag="'+e.trim()+'"]'}),t},s=[];if("object"==typeof e&&(n=e,e=0),"string"==typeof t?("*"==t&&(t=o(t)),r=y(t)):r=t,"*"==e){if(e=o(t),r.tagName)r=y(e,r);else{var a=[];l(r,function(t){a=y(e,t)}),r=a}e=0}return r.tagName?i(t):l(r,i),s},A.update=function(){return l(E,function(t){t.update()})},A.mountTo=A.mount,A.util={brackets:O,tmpl:S},"object"==typeof n?e.exports=A:"function"==typeof define&&define.amd?define(function(){return A}):t.riot=A}("undefined"!=typeof window?window:void 0)},{}],9:[function(t,e,n){var i,r;r=t("../dispatcher/dispatcher.coffee").dispatchViewAction,i=t("../constants/app_constants.coffee").ActionTypes,e.exports={add2Cart:function(t){return r(i.SHOPPING_ADD_2_CART,t)},checkout:function(){return r(i.SHOPPING_CHECKOUT)}}},{"../constants/app_constants.coffee":17,"../dispatcher/dispatcher.coffee":18}],10:[function(t,e,n){var i=t("riot");t("./cart/cart.tag"),t("./product/shop.tag"),product_store=t("../stores/product_store.coffee");t("flux-riot");i.tag("app",'<div class="pure-g"> <div class="pure-u-1 pure-u-sm-3-5 list-grid"> <h1>flux-riot Shop Demo</h1> <shop></shop> </div> <div class="pure-u-1 pure-u-sm-2-5 cart-grid"> <cart></cart> </div> </div>',function(t){})},{"../stores/product_store.coffee":22,"./cart/cart.tag":11,"./product/shop.tag":16,"flux-riot":2,riot:8}],11:[function(t,e,n){var i=t("riot");t("./item_list.tag");var r=t("flux-riot");Currencies=t("../../constants/app_constants.coffee").Currencies;var o=t("../../stores/cart_store.coffee");i.tag("cart",'<div class="cart"> <h2>Your Cart</h2> <div class="uk-margin-small-bottom" if="{ !items.length }"> Please add some products to cart. </div> <item-list items="{ items }"></item-list> <div>Total: <span>{ Currencies.POUND }<strong>{ totalPrice() }</strong></span></div> <div class="text-right"> <button class="{ \'pure-button\': true, \'btn-checkout\': true, \'pure-button-disabled\': items.length <= 0}" onclick="{ checkout }">Checkout</button> </div> </div>',function(t){this.checkout=function(){i.route("checkout")}.bind(this),this.totalPrice=function(){var t=0;return this.items.forEach(function(e){t+=e.price*e.quantity}),t.toFixed(2)}.bind(this),this.getDataFromStore=function(){var t=o.getAll();this.items=Object.keys(t).map(function(e){return t[e]})}.bind(this),this.updateFromStore=function(){this.getDataFromStore(),this.update()}.bind(this),r.storeMixin(this,o,this.updateFromStore),this.getDataFromStore()})},{"../../constants/app_constants.coffee":17,"../../stores/cart_store.coffee":21,"./item_list.tag":12,"flux-riot":2,riot:8}],12:[function(t,e,n){var i=t("riot");i.tag("item-list",'<ul> <li each="{ opts.items }"> { title } - { Currencies.POUND }{ price } x { quantity } </li> </ul>',function(t){})},{riot:8}],13:[function(t,e,n){var i=t("riot");t("./common/animation_dots.tag");var r=t("../actions/shopping.coffee");i.tag("checkout",'<div class="checkout"> <h1>Checkout <strong>{ this.checkoutTime }</strong><animation-dots></animation-dots></h1> </div>',function(t){this.checkoutTime=3,this.checkout=function(){this.checkoutTime<=0?(r.checkout(),i.route("#")):(this.checkoutTime-=1,this.update(),this.setTimer())}.bind(this),this.setTimer=function(){this.timer=setTimeout(this.checkout,1e3)}.bind(this),this.clearTimer=function(){clearTimeout(this.timer)}.bind(this),this.on("mount",this.setTimer),this.on("unmount",this.clearTimer)})},{"../actions/shopping.coffee":9,"./common/animation_dots.tag":14,riot:8}],14:[function(t,e,n){var i=t("riot");i.tag("animation-dots",'<span>{ Array(dotsCount + 1).join(".") }</span>',function(t){this.dotsCount=1,this.timeout=t.timeout||200,this.changeDots=function(){this.dotsCount=(this.dotsCount+1)%10,this.setTimer(),this.update()}.bind(this),this.setTimer=function(){this.timer=setTimeout(this.changeDots,this.timeout)}.bind(this),this.clearTimer=function(){clearTimeout(this.timer)}.bind(this),this.on("mount",this.setTimer),this.on("unmount",this.clearTimer)})},{riot:8}],15:[function(t,e,n){var i=t("riot");Currencies=t("../../constants/app_constants.coffee").Currencies;var r=t("../../actions/shopping.coffee");i.tag("product-list",'<div> <div class="product" each="{ opts.items }"> <img class="product-img" riot-src="images/{ image }"></img> <div class="product-desc"> <h3>{ title } - { Currencies.POUND }{ price }</h3> <button class="{ \'pure-button\': true, \'pure-button-primary\': true, \'pure-button-disabled\': quantity <= 0}" onclick="{ parent.add2Cart }">Add to cart</button> </div> <div class="clearfix"></div> </div> </div>',function(t){this.add2Cart=function(t){t.item.quantity>0&&r.add2Cart(t.item)}.bind(this)})},{"../../actions/shopping.coffee":9,"../../constants/app_constants.coffee":17,riot:8}],16:[function(t,e,n){var i=t("riot");t("./product_list.tag"),product_store=t("../../stores/product_store.coffee");var r=t("flux-riot");i.tag("shop",'<product-list items="{ products }"></product-list>',function(t){this.getDataFromStore=function(){this.products=product_store.getAll()}.bind(this),this.updateFromStore=function(){this.getDataFromStore(),this.update()}.bind(this),r.storeMixin(this,product_store,this.updateFromStore),this.getDataFromStore()})},{"../../stores/product_store.coffee":22,"./product_list.tag":15,"flux-riot":2,riot:8}],17:[function(t,e,n){var i;i=t("keymirror"),e.exports={ActionTypes:i({SHOPPING_ADD_2_CART:null,SHOPPING_CHECKOUT:null}),Currencies:{POUND:"€"}}},{keymirror:6}],18:[function(t,e,n){var i;i=t("flux-riot").Dispatcher,e.exports={dispatchViewAction:function(t,e){return i.handleViewAction({type:t,data:e})}}},{"flux-riot":2}],19:[function(t,e,n){var i,r,o,s;o=t("riot/riot"),t("../components/app.tag"),t("../components/checkout.tag"),i=null,s=function(){return i?i.unmount(!0):void 0},r=function(t,e){return o.mount("#app-container",t,e)[0]},e.exports={showStore:function(){return s(),i=r("app")},checkout:function(){return s(),i=r("checkout")}}},{"../components/app.tag":10,"../components/checkout.tag":13,"riot/riot":8}],20:[function(t,e,n){var i,r,o;r=t("riot/riot"),i=t("flux-riot").BaseRouter,o=t("../presenters/shop_presenter.coffee"),i.routes(o.showStore,"checkout",o.checkout),e.exports={start:i.start}},{"../presenters/shop_presenter.coffee":19,"flux-riot":2,"riot/riot":8}],21:[function(t,e,n){var i,r,o,s,a,c,u;c=t("object-assign"),a=t("flux-riot").Dispatcher,r=t("../constants/app_constants.coffee").ActionTypes,o=t("flux-riot").BaseStore,u={},i={getItems:function(){return u},clearItems:function(){return u={}}},s=c(new o,{getAll:function(){return i.getItems()},clearCart:function(){return i.clearItems()},dispatchToken:a.register(function(t){var e,n,i;switch(e=t.action,e.type){case r.SHOPPING_ADD_2_CART:return i=e.data,n=s.getAll(),i.id in n?n[i.id].quantity+=1:n[i.id]={title:i.title,price:i.price,quantity:1},s.emitChange();case r.SHOPPING_CHECKOUT:return s.clearCart(),s.emitChange()}})}),e.exports=s},{"../constants/app_constants.coffee":17,"flux-riot":2,"object-assign":7}],22:[function(t,e,n){var i,r,o,s,a,c,u,f;c=t("object-assign"),s=t("flux-riot").Dispatcher,r=t("../constants/app_constants.coffee").ActionTypes,o=t("flux-riot").BaseStore,u=1,f=[],i={getProducts:function(){return f},initProducts:function(){return f=[{id:u++,title:"iPad 4 Mini",image:"ipad-mini.png",price:500.01,quantity:10},{id:u++,title:"H&M T-Shirt White",image:"t-shirt.png",price:10.99,quantity:1},{id:u++,title:"Charli XCX - Sucker CD",image:"sucker.png",price:19.99,quantity:5}]}},i.initProducts(),a=c(new o,{getAll:function(){return i.getProducts()},getProduct:function(t){var e,n,i,r;for(r=a.getAll(),n=0,i=r.length;i>n;n++)if(e=r[n],e.id===parseInt(t))return e},dispatchToken:s.register(function(t){var e,n;switch(e=t.action,e.type){case r.SHOPPING_ADD_2_CART:if(n=e.data,n.quantity=n.quantity-1,n.quantity<=0)return a.emitChange();break;case r.SHOPPING_CHECKOUT:return i.initProducts()}})}),e.exports=a},{"../constants/app_constants.coffee":17,"flux-riot":2,"object-assign":7}]},{},[1]);